!function(){"use strict";window.interpolate=function(a){var b=0;return function(c){return a.replace(/%(?:\(([^)]+)\))?([%diouxXeEfFgGcrs])/g,function(a,d,e){return"%"===e?"%":c[d||b++]})}};for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),window.missingCTM=function(a){var b=a.width()||a[0].width.baseVal.value,c=a.height()||a[0].height.baseVal.value,d=a[0].getScreenCTM().a,e=a.attr("viewBox").split(" ")[2],f=a.attr("viewBox").split(" ")[3],g=e*d/b,h=f*d/c,i=g>h?g:h;return i},window.Hammerhead={}}(),function(a){"use strict";function b(a,b){return"string"==typeof a?c(a):{minimal:a,maximal:b}}function c(a){function c(a){return parseInt(a,10)}var d=a.split(" ").map(c),e=i(d[0],d[1]),f=i(d[2],d[3]),g=i.add(e)(f);return b(e,g)}function d(a){var b=a.minimal.x,c=a.minimal.y,d=a.maximal.x,e=a.maximal.y,f=[b,c,d-b,e-c];return f.join(" ")}function e(a){return i.scalar(.5)(i.add(a.minimal)(a.maximal))}function f(a){return function(b){var c=_.map(i.negate(a));return c(b)}}function g(a){return function(b){var c=_.map(i.scalar(1/a));return c(b)}}function h(a){return function(b){return function(c){return b=b||e(c),_.compose(f(i.negate(b)()),g(a),f(b))(c)}}}var i=SVGroovy.Point,j=_.extend({midpoint:e,translate:f,scale:g,zoom:h,attrString:d});j(b),a.ViewBox=b}(Hammerhead),function(a){"use strict";var b=interpolate("-%(height)spx -%(width)spx");a.regulateOverflow=function(){var a=this.getConfig("overflowSurplus"),c=2*a+1,d=this.$element,e=d.parent(),f=function(){var f=e.height(),g=e.width();d.css("margin",b({height:f*a,width:g*a})).width(g*c).height(f*c)};return f(),setTimeout(f,1e3),bean.on(window,"resize",f),function(){bean.off(window,"resize",f)}}}(Hammerhead),function(a){"use strict";var b=function(a){return{"-webkit-transform":a,"-ms-transform":a,transform:a}},c=SVGroovy.Point,d=SVGroovy.Matrix,e=a.ViewBox,f=_.compose(b,d.asCss3d);a.managePosition=function(){function a(){g||(g=requestAnimationFrame(function(){i.css(f(h)),g=!1}))}function b(){cancelAnimationFrame(g),g=!1,requestAnimationFrame(function(){i.css(f()),i.attr("viewBox",e.attrString(e.zoom(.5)()(l)))})}var g,h,i=this.$element,j=this.element,k=missingCTM(i),l=e(i.attr("viewBox"));return bean.on(j,"displace",function(b){h=d.toTranslate(b),a()}),bean.on(j,"inflate",function(b){h=d.toScale(b),a()}),bean.on(j,"translate",function(a){k=window.missingCTM(i),k=1;var d=c.scalar(k)(a),f=i[0].getScreenCTM().inverse();f.e=0,f.f=0;var g=c.matrixTransform(f),h=g(d);l=e.translate(h)(l),b()}),bean.on(j,"magnify",function(a){l=e.zoom(a)()(l),b()}),i.css(f()),i.attr("viewBox",e.attrString(e.zoom(.5)()(l))),function(){bean.off(j)}}}(Hammerhead),function(a){"use strict";var b=SVGroovy.Point,c=Hammer(document);a.dispatchTouch=function(){var a=this.element,d=this.isComponent,e=!1,f=!1,g=!1;return c.on("touch",function(a){a.gesture.preventDefault(),e=d(a.target)}),c.on("drag",function(c){c.gesture.preventDefault(),e&&!g&&(f=b(c.gesture),bean.fire(a,"displace",b(c.gesture)))}),c.on("pinch",function(b){b.gesture.preventDefault(),e&&(f=!1,g=b.gesture.scale,bean.fire(a,"inflate",g))}),c.on("release",function(b){b.gesture.preventDefault(),e&&(f&&bean.fire(a,"translate",f),g&&bean.fire(a,"magnify",g),e=!1,g=!1,f=!1)}),function(){c.dispose()}}}(Hammerhead),function(a){"use strict";a.mousewheelDispatch=function(){var a,b=this.$element[0],c=1+this.getConfig("mousewheelSensitivity"),d=_.debounce(this.getConfig("mousewheelDelay"))(function(c){bean.fire(b,"magnify",c),a=null}),e=function(e){if(!a){if(!this.isComponent(e.target))return;a=1}e.wheelDelta>0?a*=c:a/=c,bean.fire(b,"inflate",a),d(a)}.bind(this);$(document).on("mousewheel",e)}}(Hammerhead),function(a){"use strict";function b(a){return function(b){return(b.ownerSVGElement||b)===a}}function c(c,f){var g=$("svg#"+c),h=g[0];if(!h)return console.warn(interpolate("SVG element '%(id)s' not found")({id:c})),!1;var i=_.augment(Object.create(d))({$element:g,element:h,isComponent:b(h),getConfig:_.peruse(e(f))});return i.clear=a.regulateOverflow.call(i),a.dispatchTouch.call(i),a.managePosition.call(i),a.mousewheelDispatch.call(i),i}var d={},e=_.foundation({mousewheelSensitivity:.1,mousewheelDelay:200,maxZoom:2,minZoom:.5,overflowSurplus:.5,resizeDelay:200});a.create=c}(Hammerhead);